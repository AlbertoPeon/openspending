<html xmlns:py="http://genshi.edgewall.org/"
  xmlns:i18n="http://genshi.edgewall.org/i18n"
  xmlns:xi="http://www.w3.org/2001/XInclude" py:strip="">
  <xi:include href="_nav.html" />  
  
  <py:def function="nav_class">nav-member</py:def>

  <py:def function="page_title">${c.member['label']}</py:def>

  <py:def function="optional_head">
    <!-- templates/dimension/member.html optional_head -->
    <link py:if="hasattr(c, 'viewstyle') and c.viewstyle is not None" rel="stylesheet" href="${c.viewstyle}" type="text/css"/>
  </py:def>

  <py:def function="scripts">
    <!-- templates/dimension/member.html scripts -->
    <script py:if="hasattr(c, 'viewscript') and c.viewscript is not None" type="text/javascript" src="${c.viewscript}"></script>
    <script py:if="hasattr(c, 'viewfunc') and c.viewfunc is not None" type="text/javascript">
      new ${c.viewfunc}('widget',
                       {dataset: '${c.dataset.name}',
                        dimension: '${c.dimension}',
                        member: '${c.member.name}',
                        siteUrl: '',
                        time: '${c.time}',
                       },
                       ${c.viewjson})
    </script>
  </py:def>

  <div py:def="content">
    ${member_nav(c.view.name if c.view else 'search')}

    <div py:if="c.view" class="row">
      <div class="span12"><div id="widget" style="width: auto; height: 400px"/></div>
    </div>

    <div class="row">
      <div class="span-two-thirds">
        <h3>Description</h3>
        <div class="no-desc" py:if="not c.member.get('description')" i18n:msg="member_label">
          No description is available for ${c.member.label}
        </div>
        ${h.markdown(c.member.get('description'))}
      </div>
    </div>

    <div py:if="c.view" class="row">
      <div class="span12">
        <div id="detail" />
      </div>
    </div>
    <py:if test="c.view is None">
      <xi:include href="../_browser.html" />
    </py:if>
  </div>

  <xi:include href="../layout.html" />
</html>

